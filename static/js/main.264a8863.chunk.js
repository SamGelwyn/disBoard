(this.webpackJsonpdisboard=this.webpackJsonpdisboard||[]).push([[0],{52:function(e,t,r){},66:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(26),s=r.n(n),i=(r(52),r(10)),j=r(75),o=r(71),l=r(11),u=r(13),d=r(40),b=r.n(d),O=r(41),h=r.n(O),x=r(2);function p(){var e=Object(c.useState)("start"),t=Object(i.a)(e,2),r=t[0],a=t[1],n=Object(l.g)(),s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current=new h.a}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[s.current&&s.current.game_over()?Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Game Over! Play again?"}),Object(x.jsx)(o.a,{variant:"link",onClick:function(){s.current.clear(),s.current.reset(),a("start")},children:"Yes"}),Object(x.jsx)(o.a,{variant:"link",onClick:function(){n.push("/")},children:"No"})]}):Object(x.jsx)("span",{}),Object(x.jsx)(b.a,{position:r,onDrop:function(e){var t=e.sourceSquare,r=e.targetSquare;null!==s.current.move({from:t,to:r})&&a(s.current.fen())}})]})}),Object(x.jsx)("div",{className:"w-100 text-center mt-2",children:Object(x.jsx)(u.b,{to:"/",children:"Leave"})})]})}var m=r(17),f=r.n(m),v=r(23),g=r(73),w=r(74),y=r(29),S=(r(69),r(63),y.a.initializeApp({apiKey:"AIzaSyD5Rv3t-japBRlAZqYqB_mEGRXDs8QHIbc",authDomain:"disboard-b79f2.firebaseapp.com",databaseURL:"https://disboard-b79f2.firebaseio.com",projectId:"disboard-b79f2",storageBucket:"disboard-b79f2.appspot.com",messagingSenderId:"42344056741",appId:"1:42344056741:web:2973773bdaf96ac3c9ca4c"})),N=S.auth(),k=S.firestore(),P=a.a.createContext();function C(){return Object(c.useContext)(P)}function L(e){var t=e.children,r=Object(c.useState)(),a=Object(i.a)(r,2),n=a[0],s=a[1],j=Object(c.useState)(!0),o=Object(i.a)(j,2),l=o[0],u=o[1];Object(c.useEffect)((function(){return N.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var d={currentUser:n,login:function(e,t){return N.signInWithEmailAndPassword(e,t)},signup:function(e,t){return N.createUserWithEmailAndPassword(e,t)},logout:function(){return N.signOut()},resetPassword:function(e){return N.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return Object(x.jsx)(P.Provider,{value:d,children:!l&&t})}function R(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=C().signup,n=Object(c.useState)(""),s=Object(i.a)(n,2),d=s[0],b=s[1],O=Object(c.useState)(!1),h=Object(i.a)(O,2),p=h[0],m=h[1],y=Object(l.g)(),S=C().currentUser;function N(){return(N=Object(v.a)(f.a.mark((function c(n){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===r.current.value){c.next=3;break}return c.abrupt("return",b("Passwords do not match"));case 3:return c.prev=3,b(""),m(!0),c.next=8,a(e.current.value,t.current.value);case 8:console.log(S.uid),y.push("/"),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(3),b("Failed to create an account");case 15:m(!1);case 16:case"end":return c.stop()}}),c,null,[[3,12]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),d&&Object(x.jsx)(g.a,{variant:"danger",children:d}),Object(x.jsxs)(w.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(x.jsxs)(w.a.Group,{id:"email",children:[Object(x.jsx)(w.a.Label,{children:"Email"}),Object(x.jsx)(w.a.Control,{type:"email",ref:e,required:!0})]}),Object(x.jsxs)(w.a.Group,{id:"password",children:[Object(x.jsx)(w.a.Label,{children:"Password"}),Object(x.jsx)(w.a.Control,{type:"password",ref:t,required:!0})]}),Object(x.jsxs)(w.a.Group,{id:"password-confirm",children:[Object(x.jsx)(w.a.Label,{children:"Password Confirmation"}),Object(x.jsx)(w.a.Control,{type:"password",ref:r,required:!0})]}),Object(x.jsx)(o.a,{disabled:p,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(x.jsx)(u.b,{to:"/login",children:"Log In"})]})]})}var U=r(72);function F(){var e=C().currentUser;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:e.email}),Object(x.jsx)(u.b,{to:"/chess-game",className:"btn btn-success w-100 mt-3",children:"Let's Play \u265f"}),Object(x.jsx)(u.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})})})}function E(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=C().login,a=Object(c.useState)(""),n=Object(i.a)(a,2),s=n[0],d=n[1],b=Object(c.useState)(!1),O=Object(i.a)(b,2),h=O[0],p=O[1],m=Object(l.g)();function y(){return(y=Object(v.a)(f.a.mark((function c(a){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,d(""),p(!0),c.next=6,r(e.current.value,t.current.value);case 6:m.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),d("Failed to log in");case 12:p(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(x.jsx)(g.a,{variant:"danger",children:s}),Object(x.jsxs)(w.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(x.jsxs)(w.a.Group,{id:"email",children:[Object(x.jsx)(w.a.Label,{children:"Email"}),Object(x.jsx)(w.a.Control,{type:"email",ref:e,required:!0})]}),Object(x.jsxs)(w.a.Group,{id:"password",children:[Object(x.jsx)(w.a.Label,{children:"Password"}),Object(x.jsx)(w.a.Control,{type:"password",ref:t,required:!0})]}),Object(x.jsx)(o.a,{disabled:h,className:"w-100",type:"submit",children:"Log In"})]}),Object(x.jsx)("div",{className:"w-100 text-center mt-3",children:Object(x.jsx)(u.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(x.jsx)(u.b,{to:"/signup",children:"Sign Up"})]})]})}var B=r(31),G=r(45),q=["component"];function I(e){var t=e.component,r=Object(G.a)(e,q),c=C().currentUser;return Object(x.jsx)(l.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return c?Object(x.jsx)(t,Object(B.a)({},e)):Object(x.jsx)(l.a,{to:"/login"})}}))}function A(){var e=Object(c.useRef)(),t=C().resetPassword,r=Object(c.useState)(""),a=Object(i.a)(r,2),n=a[0],s=a[1],l=Object(c.useState)(""),d=Object(i.a)(l,2),b=d[0],O=d[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),m=p[0],y=p[1];function S(){return(S=Object(v.a)(f.a.mark((function r(c){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,O(""),s(""),y(!0),r.next=7,t(e.current.value);case 7:O("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:y(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(x.jsx)(g.a,{variant:"danger",children:n}),b&&Object(x.jsx)(g.a,{variant:"success",children:b}),Object(x.jsxs)(w.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(x.jsxs)(w.a.Group,{id:"email",children:[Object(x.jsx)(w.a.Label,{children:"Email"}),Object(x.jsx)(w.a.Control,{type:"email",ref:e,required:!0})]}),Object(x.jsx)(o.a,{disabled:m,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(x.jsx)("div",{className:"w-100 text-center mt-3",children:Object(x.jsx)(u.b,{to:"/login",children:"Login"})})]})}),Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(x.jsx)(u.b,{to:"/signup",children:"Sign Up"})]})]})}function D(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=C(),n=a.currentUser,s=a.updatePassword,d=a.updateEmail,b=Object(c.useState)(""),O=Object(i.a)(b,2),h=O[0],p=O[1],m=Object(c.useState)(!1),f=Object(i.a)(m,2),v=f[0],y=f[1],S=Object(l.g)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),h&&Object(x.jsx)(g.a,{variant:"danger",children:h}),Object(x.jsxs)(w.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==r.current.value)return p("Passwords do not match");var a=[];y(!0),p(""),e.current.value!==n.email&&a.push(d(e.current.value)),t.current.value&&a.push(s(t.current.value)),Promise.all(a).then((function(){S.push("/")})).catch((function(){p("Failed to update account")})).finally((function(){y(!1)}))},children:[Object(x.jsxs)(w.a.Group,{id:"email",children:[Object(x.jsx)(w.a.Label,{children:"Email"}),Object(x.jsx)(w.a.Control,{type:"email",ref:e,required:!0,defaultValue:n.email})]}),Object(x.jsxs)(w.a.Group,{id:"password",children:[Object(x.jsx)(w.a.Label,{children:"Password"}),Object(x.jsx)(w.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(x.jsxs)(w.a.Group,{id:"password-confirm",children:[Object(x.jsx)(w.a.Label,{children:"Password Confirmation"}),Object(x.jsx)(w.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(x.jsx)(o.a,{disabled:v,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(x.jsx)("div",{className:"w-100 text-center mt-2",children:Object(x.jsx)(u.b,{to:"/",children:"Cancel"})})]})}function W(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],n=C(),s=n.currentUser,j=n.logout,u=Object(l.g)();function d(){return(d=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,j();case 4:u.push("/login"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return s&&Object(x.jsxs)("div",{className:"w-100 text-center mt-2",children:[r&&Object(x.jsx)(g.a,{variant:"danger",children:r}),Object(x.jsx)(o.a,{variant:"link",onClick:function(){return d.apply(this,arguments)},children:"Log Out"})]})}var H=r(46);function M(e){var t=e.message,r=t.text,c=t.uid===C().currentUser.uid?"sent":"received";return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"message ".concat(c),children:Object(x.jsx)("p",{children:r})})})}function V(){var e=C().currentUser,t=Object(c.useRef)(),r=k.collection("messages"),a=r.orderBy("createdAt").limitToLast(20),n=Object(H.a)(a,{idField:"id"}),s=Object(i.a)(n,1)[0],l=Object(c.useState)(""),u=Object(i.a)(l,2),d=u[0],b=u[1],O=function(){var c=Object(v.a)(f.a.mark((function c(a){var n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),n=e.uid,c.next=4,r.add({text:d,createdAt:y.a.firestore.FieldValue.serverTimestamp(),uid:n});case 4:b(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return e&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a.Body,{children:[Object(x.jsxs)("main",{children:[s&&s.map((function(e){return Object(x.jsx)(M,{message:e},e.id)})),Object(x.jsx)("span",{ref:t})]}),Object(x.jsx)(w.a,{onSubmit:O,children:Object(x.jsxs)(w.a.Row,{children:[Object(x.jsx)(w.a.Group,{id:"formMessage",children:Object(x.jsx)(w.a.Control,{value:d,onChange:function(e){return b(e.target.value)},placeholder:"Write Message Here..."})}),Object(x.jsxs)(o.a,{className:"w-100",variant:"primary",type:"submit",disabled:!d,children:[e.email,"\ud83d\udd4a\ufe0f"]})]})})]})})})}function z(){return Object(x.jsx)(U.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(x.jsxs)(L,{children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{children:"disBoard"}),Object(x.jsx)("nav",{children:Object(x.jsx)(W,{})})]}),Object(x.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(x.jsx)(u.a,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(I,{exact:!0,path:"/",component:F}),Object(x.jsx)(I,{path:"/update-profile",component:D}),Object(x.jsx)(I,{path:"/chess-game",component:p}),Object(x.jsx)(l.b,{path:"/signup",component:R}),Object(x.jsx)(l.b,{path:"/login",component:E}),Object(x.jsx)(l.b,{path:"/forgot-password",component:A})]})})}),Object(x.jsx)("div",{style:{display:"inline-block",maxWidth:"300px"},children:Object(x.jsx)(V,{})})]})})}r(66),r(67);s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(z,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.264a8863.chunk.js.map