(this.webpackJsonpdisboard=this.webpackJsonpdisboard||[]).push([[0],{51:function(e,t,r){},65:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(26),s=r.n(n),i=(r(51),r(10)),j=r(39),o=r.n(j),u=r(40),l=r.n(u),b=r(2);function d(){var e=Object(c.useState)("start"),t=Object(i.a)(e,2),r=t[0],a=t[1],n=Object(c.useRef)(null);Object(c.useEffect)((function(){n.current=new l.a}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)("header",{children:n.current&&n.current.game_over()?Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("h1",{children:"Game Over"}),Object(b.jsx)("button",{onClick:function(){n.current.clear(),n.current.reset(),a("start")},children:"Play Again"})," "]}):Object(b.jsx)("span",{})}),Object(b.jsx)(o.a,{position:r,onDrop:function(e){var t=e.sourceSquare,r=e.targetSquare;null!==n.current.move({from:t,to:r})&&a(n.current.fen())}})]})}var O=r(21),h=r.n(O),p=r(23),x=r(74),f=r(72),m=r(73),v=r(70),g=r(41),w=(r(68),r(58),g.a.initializeApp({databaseURL:"https://disboard-b79f2.firebaseio.com",apiKey:"AIzaSyD5Rv3t-japBRlAZqYqB_mEGRXDs8QHIbc",authDomain:"disboard-b79f2.firebaseapp.com",projectId:"disboard-b79f2",storageBucket:"disboard-b79f2.appspot.com",messagingSenderId:"42344056741",appId:"1:42344056741:web:2973773bdaf96ac3c9ca4c"})),y=w.auth(),S=(w.firestore(),a.a.createContext());function P(){return Object(c.useContext)(S)}function N(e){var t=e.children,r=Object(c.useState)(),a=Object(i.a)(r,2),n=a[0],s=a[1],j=Object(c.useState)(!0),o=Object(i.a)(j,2),u=o[0],l=o[1];Object(c.useEffect)((function(){return y.onAuthStateChanged((function(e){s(e),l(!1)}))}),[]);var d={currentUser:n,login:function(e,t){return y.signInWithEmailAndPassword(e,t)},signup:function(e,t){return y.createUserWithEmailAndPassword(e,t)},logout:function(){return y.signOut()},resetPassword:function(e){return y.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return Object(b.jsx)(S.Provider,{value:d,children:!u&&t})}var k=r(11),C=r(15);function L(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=P().signup,n=Object(c.useState)(""),s=Object(i.a)(n,2),j=s[0],o=s[1],u=Object(c.useState)(!1),l=Object(i.a)(u,2),d=l[0],O=l[1],g=Object(k.g)();function w(){return(w=Object(p.a)(h.a.mark((function c(n){return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===r.current.value){c.next=3;break}return c.abrupt("return",o("Passwords do not match"));case 3:return c.prev=3,o(""),O(!0),c.next=8,a(e.current.value,t.current.value);case 8:g.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),o("Failed to create an account");case 14:O(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{children:Object(b.jsxs)(x.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),j&&Object(b.jsx)(f.a,{variant:"danger",children:j}),Object(b.jsxs)(m.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(b.jsxs)(m.a.Group,{id:"email",children:[Object(b.jsx)(m.a.Label,{children:"Email"}),Object(b.jsx)(m.a.Control,{type:"email",ref:e,required:!0})]}),Object(b.jsxs)(m.a.Group,{id:"password",children:[Object(b.jsx)(m.a.Label,{children:"Password"}),Object(b.jsx)(m.a.Control,{type:"password",ref:t,required:!0})]}),Object(b.jsxs)(m.a.Group,{id:"password-confirm",children:[Object(b.jsx)(m.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(m.a.Control,{type:"password",ref:r,required:!0})]}),Object(b.jsx)(v.a,{disabled:d,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(b.jsx)(C.b,{to:"/login",children:"Log In"})]})]})}var R=r(71);function E(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=(t[1],P()),n=a.currentUser;a.logout,Object(k.g)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(x.a,{children:Object(b.jsxs)(x.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),r&&Object(b.jsx)(f.a,{variant:"danger",children:r}),Object(b.jsx)("strong",{children:"Email:"})," ",n.email,Object(b.jsx)(C.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})})})}function U(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=P().login,a=Object(c.useState)(""),n=Object(i.a)(a,2),s=n[0],j=n[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),l=u[0],d=u[1],O=Object(k.g)();function g(){return(g=Object(p.a)(h.a.mark((function c(a){return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,j(""),d(!0),c.next=6,r(e.current.value,t.current.value);case 6:O.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),j("Failed to log in");case 12:d(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{children:Object(b.jsxs)(x.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(b.jsx)(f.a,{variant:"danger",children:s}),Object(b.jsxs)(m.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(b.jsxs)(m.a.Group,{id:"email",children:[Object(b.jsx)(m.a.Label,{children:"Email"}),Object(b.jsx)(m.a.Control,{type:"email",ref:e,required:!0})]}),Object(b.jsxs)(m.a.Group,{id:"password",children:[Object(b.jsx)(m.a.Label,{children:"Password"}),Object(b.jsx)(m.a.Control,{type:"password",ref:t,required:!0})]}),Object(b.jsx)(v.a,{disabled:l,className:"w-100",type:"submit",children:"Log In"})]}),Object(b.jsx)("div",{className:"w-100 text-center mt-3",children:Object(b.jsx)(C.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(b.jsx)(C.b,{to:"/signup",children:"Sign Up"})]})]})}var q=r(30),F=r(45),G=["component"];function I(e){var t=e.component,r=Object(F.a)(e,G),c=P().currentUser;return Object(b.jsx)(k.b,Object(q.a)(Object(q.a)({},r),{},{render:function(e){return c?Object(b.jsx)(t,Object(q.a)({},e)):Object(b.jsx)(k.a,{to:"/login"})}}))}function B(){var e=Object(c.useRef)(),t=P().resetPassword,r=Object(c.useState)(""),a=Object(i.a)(r,2),n=a[0],s=a[1],j=Object(c.useState)(""),o=Object(i.a)(j,2),u=o[0],l=o[1],d=Object(c.useState)(!1),O=Object(i.a)(d,2),g=O[0],w=O[1];function y(){return(y=Object(p.a)(h.a.mark((function r(c){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,l(""),s(""),w(!0),r.next=7,t(e.current.value);case 7:l("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:w(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{children:Object(b.jsxs)(x.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(b.jsx)(f.a,{variant:"danger",children:n}),u&&Object(b.jsx)(f.a,{variant:"success",children:u}),Object(b.jsxs)(m.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(b.jsxs)(m.a.Group,{id:"email",children:[Object(b.jsx)(m.a.Label,{children:"Email"}),Object(b.jsx)(m.a.Control,{type:"email",ref:e,required:!0})]}),Object(b.jsx)(v.a,{disabled:g,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(b.jsx)("div",{className:"w-100 text-center mt-3",children:Object(b.jsx)(C.b,{to:"/login",children:"Login"})})]})}),Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(b.jsx)(C.b,{to:"/signup",children:"Sign Up"})]})]})}function A(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=P(),n=a.currentUser,s=a.updatePassword,j=a.updateEmail,o=Object(c.useState)(""),u=Object(i.a)(o,2),l=u[0],d=u[1],O=Object(c.useState)(!1),h=Object(i.a)(O,2),p=h[0],g=h[1],w=Object(k.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x.a,{children:Object(b.jsxs)(x.a.Body,{children:[Object(b.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),l&&Object(b.jsx)(f.a,{variant:"danger",children:l}),Object(b.jsxs)(m.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==r.current.value)return d("Passwords do not match");var a=[];g(!0),d(""),e.current.value!==n.email&&a.push(j(e.current.value)),t.current.value&&a.push(s(t.current.value)),Promise.all(a).then((function(){w.push("/")})).catch((function(){d("Failed to update account")})).finally((function(){g(!1)}))},children:[Object(b.jsxs)(m.a.Group,{id:"email",children:[Object(b.jsx)(m.a.Label,{children:"Email"}),Object(b.jsx)(m.a.Control,{type:"email",ref:e,required:!0,defaultValue:n.email})]}),Object(b.jsxs)(m.a.Group,{id:"password",children:[Object(b.jsx)(m.a.Label,{children:"Password"}),Object(b.jsx)(m.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(b.jsxs)(m.a.Group,{id:"password-confirm",children:[Object(b.jsx)(m.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(m.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(b.jsx)(v.a,{disabled:p,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(b.jsx)("div",{className:"w-100 text-center mt-2",children:Object(b.jsx)(C.b,{to:"/",children:"Cancel"})})]})}function D(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],n=P(),s=n.currentUser,j=n.logout,o=Object(k.g)();function u(){return(u=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,j();case 4:o.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return s&&Object(b.jsxs)("div",{className:"w-100 text-center mt-2",children:[r&&Object(b.jsx)(f.a,{variant:"danger",children:r}),Object(b.jsx)(v.a,{variant:"link",onClick:function(){return u.apply(this,arguments)},children:"Log Out"})]})}function W(){return Object(b.jsxs)(R.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("h1",{children:"\u269b\ufe0f\ud83d\udd25\ud83d\udcac"}),Object(b.jsx)("nav",{children:Object(b.jsx)(N,{children:Object(b.jsx)(D,{})})})]}),Object(b.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(b.jsx)(C.a,{children:Object(b.jsx)(N,{children:Object(b.jsxs)(k.d,{children:[Object(b.jsx)(I,{exact:!0,path:"/",component:E}),Object(b.jsx)(I,{path:"/update-profile",component:A}),Object(b.jsx)(I,{path:"/chess-game",component:d}),Object(b.jsx)(k.b,{path:"/signup",component:L}),Object(b.jsx)(k.b,{path:"/login",component:U}),Object(b.jsx)(k.b,{path:"/forgot-password",component:B})]})})})})]})}r(65),r(66);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(W,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.b8cc0434.chunk.js.map