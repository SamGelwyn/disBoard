(this.webpackJsonpdisboard=this.webpackJsonpdisboard||[]).push([[0],{52:function(e,t,r){},66:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),n=r(26),s=r.n(n),i=(r(52),r(10)),j=r(75),o=r(71),l=r(11),u=r(40),d=r.n(u),b=r(41),O=r.n(b),h=r(2);function p(){var e=Object(c.useState)("start"),t=Object(i.a)(e,2),r=t[0],a=t[1],n=Object(l.g)(),s=Object(c.useRef)(null);Object(c.useEffect)((function(){s.current=new O.a}),[]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[s.current&&s.current.game_over()?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Game Over! Play again?"}),Object(h.jsx)(o.a,{variant:"link",onClick:function(){s.current.clear(),s.current.reset(),a("start")},children:"Yes"}),Object(h.jsx)(o.a,{variant:"link",onClick:function(){n.push("/")},children:"No"})]}):Object(h.jsx)("span",{}),Object(h.jsx)(d.a,{position:r,onDrop:function(e){var t=e.sourceSquare,r=e.targetSquare;null!==s.current.move({from:t,to:r})&&a(s.current.fen())}})]})})})}var x=r(17),m=r.n(x),f=r(23),v=r(73),g=r(74),w=r(29),y=(r(69),r(63),w.a.initializeApp({apiKey:"AIzaSyD5Rv3t-japBRlAZqYqB_mEGRXDs8QHIbc",authDomain:"disboard-b79f2.firebaseapp.com",databaseURL:"https://disboard-b79f2.firebaseio.com",projectId:"disboard-b79f2",storageBucket:"disboard-b79f2.appspot.com",messagingSenderId:"42344056741",appId:"1:42344056741:web:2973773bdaf96ac3c9ca4c"})),S=y.auth(),k=y.firestore(),N=a.a.createContext();function P(){return Object(c.useContext)(N)}function C(e){var t=e.children,r=Object(c.useState)(),a=Object(i.a)(r,2),n=a[0],s=a[1],j=Object(c.useState)(!0),o=Object(i.a)(j,2),l=o[0],u=o[1];Object(c.useEffect)((function(){return S.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var d={currentUser:n,login:function(e,t){return S.signInWithEmailAndPassword(e,t)},signup:function(e,t){return S.createUserWithEmailAndPassword(e,t)},logout:function(){return S.signOut()},resetPassword:function(e){return S.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return Object(h.jsx)(N.Provider,{value:d,children:!l&&t})}var L=r(13);function R(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=P().signup,n=Object(c.useState)(""),s=Object(i.a)(n,2),u=s[0],d=s[1],b=Object(c.useState)(!1),O=Object(i.a)(b,2),p=O[0],x=O[1],w=Object(l.g)();function y(){return(y=Object(f.a)(m.a.mark((function c(n){return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),t.current.value===r.current.value){c.next=3;break}return c.abrupt("return",d("Passwords do not match"));case 3:return c.prev=3,d(""),x(!0),c.next=8,a(e.current.value,t.current.value);case 8:w.push("/"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),d("Failed to create an account");case 14:x(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),u&&Object(h.jsx)(v.a,{variant:"danger",children:u}),Object(h.jsxs)(g.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(h.jsxs)(g.a.Group,{id:"email",children:[Object(h.jsx)(g.a.Label,{children:"Email"}),Object(h.jsx)(g.a.Control,{type:"email",ref:e,required:!0})]}),Object(h.jsxs)(g.a.Group,{id:"password",children:[Object(h.jsx)(g.a.Label,{children:"Password"}),Object(h.jsx)(g.a.Control,{type:"password",ref:t,required:!0})]}),Object(h.jsxs)(g.a.Group,{id:"password-confirm",children:[Object(h.jsx)(g.a.Label,{children:"Password Confirmation"}),Object(h.jsx)(g.a.Control,{type:"password",ref:r,required:!0})]}),Object(h.jsx)(o.a,{disabled:p,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(h.jsx)(L.b,{to:"/login",children:"Log In"})]})]})}var F=r(72);function U(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=(t[1],P().currentUser);Object(l.g)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:a.email}),r&&Object(h.jsx)(v.a,{variant:"danger",children:r}),Object(h.jsx)(L.b,{to:"/chess-game",className:"btn btn-primary w-100 mt-3",children:"Let's Play"})]})})})}function E(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=P().login,a=Object(c.useState)(""),n=Object(i.a)(a,2),s=n[0],u=n[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),O=b[0],p=b[1],x=Object(l.g)();function w(){return(w=Object(f.a)(m.a.mark((function c(a){return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,u(""),p(!0),c.next=6,r(e.current.value,t.current.value);case 6:x.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),u("Failed to log in");case 12:p(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(h.jsx)(v.a,{variant:"danger",children:s}),Object(h.jsxs)(g.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(h.jsxs)(g.a.Group,{id:"email",children:[Object(h.jsx)(g.a.Label,{children:"Email"}),Object(h.jsx)(g.a.Control,{type:"email",ref:e,required:!0})]}),Object(h.jsxs)(g.a.Group,{id:"password",children:[Object(h.jsx)(g.a.Label,{children:"Password"}),Object(h.jsx)(g.a.Control,{type:"password",ref:t,required:!0})]}),Object(h.jsx)(o.a,{disabled:O,className:"w-100",type:"submit",children:"Log In"})]}),Object(h.jsx)("div",{className:"w-100 text-center mt-3",children:Object(h.jsx)(L.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(h.jsx)(L.b,{to:"/signup",children:"Sign Up"})]})]})}var B=r(31),G=r(45),q=["component"];function I(e){var t=e.component,r=Object(G.a)(e,q),c=P().currentUser;return Object(h.jsx)(l.b,Object(B.a)(Object(B.a)({},r),{},{render:function(e){return c?Object(h.jsx)(t,Object(B.a)({},e)):Object(h.jsx)(l.a,{to:"/login"})}}))}function A(){var e=Object(c.useRef)(),t=P().resetPassword,r=Object(c.useState)(""),a=Object(i.a)(r,2),n=a[0],s=a[1],l=Object(c.useState)(""),u=Object(i.a)(l,2),d=u[0],b=u[1],O=Object(c.useState)(!1),p=Object(i.a)(O,2),x=p[0],w=p[1];function y(){return(y=Object(f.a)(m.a.mark((function r(c){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,b(""),s(""),w(!0),r.next=7,t(e.current.value);case 7:b("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:w(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(h.jsx)(v.a,{variant:"danger",children:n}),d&&Object(h.jsx)(v.a,{variant:"success",children:d}),Object(h.jsxs)(g.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(h.jsxs)(g.a.Group,{id:"email",children:[Object(h.jsx)(g.a.Label,{children:"Email"}),Object(h.jsx)(g.a.Control,{type:"email",ref:e,required:!0})]}),Object(h.jsx)(o.a,{disabled:x,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(h.jsx)("div",{className:"w-100 text-center mt-3",children:Object(h.jsx)(L.b,{to:"/login",children:"Login"})})]})}),Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(h.jsx)(L.b,{to:"/signup",children:"Sign Up"})]})]})}function D(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),a=P(),n=a.currentUser,s=a.updatePassword,u=a.updateEmail,d=Object(c.useState)(""),b=Object(i.a)(d,2),O=b[0],p=b[1],x=Object(c.useState)(!1),m=Object(i.a)(x,2),f=m[0],w=m[1],y=Object(l.g)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),O&&Object(h.jsx)(v.a,{variant:"danger",children:O}),Object(h.jsxs)(g.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==r.current.value)return p("Passwords do not match");var a=[];w(!0),p(""),e.current.value!==n.email&&a.push(u(e.current.value)),t.current.value&&a.push(s(t.current.value)),Promise.all(a).then((function(){y.push("/")})).catch((function(){p("Failed to update account")})).finally((function(){w(!1)}))},children:[Object(h.jsxs)(g.a.Group,{id:"email",children:[Object(h.jsx)(g.a.Label,{children:"Email"}),Object(h.jsx)(g.a.Control,{type:"email",ref:e,required:!0,defaultValue:n.email})]}),Object(h.jsxs)(g.a.Group,{id:"password",children:[Object(h.jsx)(g.a.Label,{children:"Password"}),Object(h.jsx)(g.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(h.jsxs)(g.a.Group,{id:"password-confirm",children:[Object(h.jsx)(g.a.Label,{children:"Password Confirmation"}),Object(h.jsx)(g.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(h.jsx)(o.a,{disabled:f,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(h.jsx)("div",{className:"w-100 text-center mt-2",children:Object(h.jsx)(L.b,{to:"/",children:"Cancel"})})]})}function W(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],n=P(),s=n.currentUser,j=n.logout,u=Object(l.g)();function d(){return(d=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,j();case 4:u.push("/login"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return s&&Object(h.jsxs)("div",{className:"w-100 text-center mt-2",children:[r&&Object(h.jsx)(v.a,{variant:"danger",children:r}),Object(h.jsx)(o.a,{variant:"link",onClick:function(){try{u.push("/update-profile")}catch(e){}},children:s.email}),Object(h.jsx)(o.a,{variant:"link",onClick:function(){return d.apply(this,arguments)},children:"Log Out"})]})}var H=r(46);function M(e){var t=e.message,r=t.text,c=t.uid===P().currentUser.uid?"sent":"received";return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"message ".concat(c),children:Object(h.jsx)("p",{children:r})})})}function V(){var e=P().currentUser,t=Object(c.useRef)(),r=k.collection("messages"),a=r.orderBy("createdAt").limitToLast(20),n=Object(H.a)(a,{idField:"id"}),s=Object(i.a)(n,1)[0],l=Object(c.useState)(""),u=Object(i.a)(l,2),d=u[0],b=u[1],O=function(){var c=Object(f.a)(m.a.mark((function c(a){var n;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),n=e.uid,c.next=4,r.add({text:d,createdAt:w.a.firestore.FieldValue.serverTimestamp(),uid:n});case 4:b(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return e&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(j.a.Body,{children:[Object(h.jsxs)("main",{children:[s&&s.map((function(e){return Object(h.jsx)(M,{message:e},e.id)})),Object(h.jsx)("span",{ref:t})]}),Object(h.jsx)(g.a,{onSubmit:O,children:Object(h.jsxs)(g.a.Row,{children:[Object(h.jsx)(g.a.Group,{id:"formMessage",children:Object(h.jsx)(g.a.Control,{value:d,onChange:function(e){return b(e.target.value)},placeholder:"Write Message Here..."})}),Object(h.jsx)(o.a,{className:"w-100",variant:"primary",type:"submit",disabled:!d,children:"\ud83d\udd4a\ufe0f"})]})})]})})})}function z(){return Object(h.jsx)(F.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(h.jsxs)(C,{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{children:"disBoard"}),Object(h.jsx)("nav",{children:Object(h.jsx)(W,{})})]}),Object(h.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(h.jsx)(L.a,{children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(I,{exact:!0,path:"/",component:U}),Object(h.jsx)(I,{path:"/update-profile",component:D}),Object(h.jsx)(I,{path:"/chess-game",component:p}),Object(h.jsx)(l.b,{path:"/signup",component:R}),Object(h.jsx)(l.b,{path:"/login",component:E}),Object(h.jsx)(l.b,{path:"/forgot-password",component:A})]})})}),Object(h.jsx)("div",{classname:"w-100",style:{display:"inline-block",maxWidth:"300px"},children:Object(h.jsx)(V,{})})]})})}r(66),r(67);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.fcd978ff.chunk.js.map