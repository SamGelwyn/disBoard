{"version":3,"sources":["components/ChessGame.js","firebase.js","contexts/AuthContext.js","components/Signup.js","components/disBoard.js","components/Login.js","components/PrivateRoute.js","components/ForgotPassword.js","components/UpdateProfile.js","components/SignOut.js","components/ChatMessage.js","components/ChatRoom.js","App.js","index.js"],"names":["ChessGame","useState","fen","setFen","history","useHistory","game","useRef","useEffect","current","Chess","Card","Body","game_over","Button","variant","onClick","clear","reset","push","position","onDrop","sourceSquare","targetSquare","move","from","to","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","currentUser","setCurrentUser","loading","setLoading","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","emailRef","passwordRef","passwordConfirmRef","error","setError","e","a","preventDefault","className","Alert","Form","onSubmit","Group","id","Label","Control","type","ref","required","disabled","DisBoard","Login","PrivateRoute","Component","component","rest","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","SignOut","ChatMessage","text","messageClass","uid","ChatRoom","focus","messagesRef","collection","query","orderBy","limitToLast","useCollectionData","idField","messages","formValue","setFormValue","sendMessage","add","createdAt","FieldValue","serverTimestamp","scrollIntoView","behavior","map","msg","Row","onChange","target","App","Container","style","minHeight","maxWidth","exact","path","classname","display","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcd978ff.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Form, Button, Card, } from \"react-bootstrap\"\nimport { useHistory } from \"react-router-dom\"\nimport ChessBoard from 'chessboardjsx'\nimport Chess from 'chess.js'\n\n// const container = {\n//   marginTop: \"2rem\",\n//   display: \"flex\",\n//   justifyContent: \"space-around\",\n//   alignItem: \"center\"\n// }\n\n\nexport default function ChessGame() {\n\n  const [fen, setFen] = useState(\"start\")\n\n  const resetGame = () => {\n    game.current.clear();\n    game.current.reset();\n    setFen(\"start\")\n  }\n  const history = useHistory()\n  const leaveGame = () => {\n    history.push(\"/\")\n  }\n\n  let game = useRef(null);\n\n  useEffect(() => {\n    game.current = new Chess();\n  },[])\n\n  \n  const onDrop = ({sourceSquare, targetSquare}) =>{\n      let move = game.current.move({\n        from: sourceSquare,\n        to: targetSquare\n      })\n      // check for valid move\n      if (move === null) return; \n      // provide the fen string\n      setFen(game.current.fen())\n    }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          {\n            game.current && game.current.game_over() ? <div> \n              <h1>Game Over! Play again?</h1>\n              <Button variant=\"link\" onClick={resetGame}>Yes</Button>\n              <Button variant=\"link\" onClick={leaveGame}>No</Button> \n            </div>: <span></span>\n          }\n          <ChessBoard \n            position={fen}\n            onDrop={onDrop}\n          /> \n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n","import firebase from \"firebase/app\"\nimport \"firebase/firestore\"\nimport \"firebase/auth\"\n\nconst app = firebase.initializeApp({\n\n  \n  apiKey: \"AIzaSyD5Rv3t-japBRlAZqYqB_mEGRXDs8QHIbc\",\n  authDomain: \"disboard-b79f2.firebaseapp.com\",\n  databaseURL: \"https://disboard-b79f2.firebaseio.com\",\n  projectId: \"disboard-b79f2\",\n  storageBucket: \"disboard-b79f2.appspot.com\",\n  messagingSenderId: \"42344056741\",\n  appId: \"1:42344056741:web:2973773bdaf96ac3c9ca4c\"\n\n})\n\nexport const auth = app.auth()\nexport const db = app.firestore()\nexport default app\n","import React, { useContext, useState, useEffect } from \"react\"\nimport { auth } from \"../firebase\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }\n\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email)\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password)\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function Signup() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const passwordConfirmRef = useRef()\n  const { signup } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\")\n    }\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await signup(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to create an account\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label>Password Confirmation</Form.Label>\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Sign Up\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Already have an account? <Link to=\"/login\">Log In</Link>\n      </div>\n    </>\n  )\n}\n","import React, { useState } from \"react\"\nimport { Card, Button, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function DisBoard() {\n  const [error, setError] = useState(\"\")\n  const { currentUser } = useAuth()\n  const history = useHistory()\n\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">{currentUser.email}</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Link to=\"/chess-game\" className=\"btn btn-primary w-100 mt-3\">\n            Let's Play\n          </Link>\n        </Card.Body>\n      </Card>\n    </>\n    \n  )\n};\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function Login() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const { login } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to log in\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Log In</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Log In\n            </Button>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n    </>\n  )\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }}\n    ></Route>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link } from \"react-router-dom\"\n\nexport default function ForgotPassword() {\n  const emailRef = useRef()\n  const { resetPassword } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setMessage(\"\")\n      setError(\"\")\n      setLoading(true)\n      await resetPassword(emailRef.current.value)\n      setMessage(\"Check your inbox for further instructions\")\n    } catch {\n      setError(\"Failed to reset password\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          {message && <Alert variant=\"success\">{message}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Reset Password\n            </Button>\n          </Form>\n          <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/login\">Login</Link>\n          </div>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\n      </div>\n    </>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function UpdateProfile() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const passwordConfirmRef = useRef()\n  const { currentUser, updatePassword, updateEmail } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\")\n    }\n\n    const promises = []\n    setLoading(true)\n    setError(\"\")\n\n    if (emailRef.current.value !== currentUser.email) {\n      promises.push(updateEmail(emailRef.current.value))\n    }\n    if (passwordRef.current.value) {\n      promises.push(updatePassword(passwordRef.current.value))\n    }\n\n    Promise.all(promises)\n      .then(() => {\n        history.push(\"/\")\n      })\n      .catch(() => {\n        setError(\"Failed to update account\")\n      })\n      .finally(() => {\n        setLoading(false)\n      })\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control\n                type=\"email\"\n                ref={emailRef}\n                required\n                defaultValue={currentUser.email}\n              />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                ref={passwordRef}\n                placeholder=\"Leave blank to keep the same\"\n              />\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label>Password Confirmation</Form.Label>\n              <Form.Control\n                type=\"password\"\n                ref={passwordConfirmRef}\n                placeholder=\"Leave blank to keep the same\"\n              />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Update\n            </Button>\n          </Form>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        <Link to=\"/\">Cancel</Link>\n      </div>\n    </>\n  )\n}\n","import React, { useState } from \"react\"\nimport { Button, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\n\nexport default function SignOut() {\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n\n  function handleProfile() {\n    try {\n      history.push(\"/update-profile\")\n    } catch {}\n    \n  }\n\n  async function handleLogout() {\n    setError(\"\")\n\n    try { \n      await logout()\n      history.push(\"/login\")\n    } catch {\n      // setError(\"Failed to log out\")\n    }\n  }\n\n  return currentUser && (\n      <div className=\"w-100 text-center mt-2\">\n        {error && <Alert variant=\"danger\">{error}</Alert>}\n\n        <Button variant=\"link\" onClick={handleProfile}>\n          {currentUser.email}\n        </Button>\n        <Button variant=\"link\" onClick={handleLogout}>\n          Log Out\n        </Button>\n      </div>\n  );\n};\n","import { useAuth } from \"../contexts/AuthContext\";\n\n\n\nexport function ChatMessage(props) {\n  const { text, uid } = props.message;\n  const { currentUser } = useAuth()\n  const messageClass = uid === currentUser.uid ? 'sent' : 'received';\n\n  return (\n    <>\n    <div className={`message ${messageClass}`}>\n\n      <p>{text}</p>\n    </div>\n  </>\n  )\n};","import React, { useRef, useState } from 'react';\nimport { Form, Card, Button } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { db } from \"../firebase\";\nimport firebase from \"firebase/app\"\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport { ChatMessage } from \"./ChatMessage\";\nimport { FormControl } from 'react-bootstrap';\n\nexport default function ChatRoom() {\n  const { currentUser } = useAuth()\n  const focus = useRef();\n  const messagesRef = db.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limitToLast(20);\n\n  const [messages] = useCollectionData(query, { idField: 'id' });\n\n  const [formValue, setFormValue] = useState('');\n\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n\n    const { uid } = currentUser\n\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      uid,\n    })\n\n    setFormValue('');\n    focus.current.scrollIntoView({ behavior: 'smooth' });\n  }\n\n  return currentUser && (\n    <>\n      <Card>\n        <Card.Body>\n        \n          <main>\n\n          {messages && messages.map(msg => <ChatMessage key={msg.id} message={msg} />)}\n\n          <span ref={focus}></span>\n\n          </main>\n\n          <Form onSubmit={sendMessage}>\n            <Form.Row>\n              <Form.Group id=\"formMessage\">\n\n                <Form.Control value={formValue} onChange={(e) => setFormValue(e.target.value)} placeholder=\"Write Message Here...\" />\n\n              </Form.Group>\n\n              <Button className=\"w-100\" variant=\"primary\" type=\"submit\" disabled={!formValue}>🕊️</Button>\n\n            </Form.Row>\n\n\n\n          </Form>\n\n        </Card.Body>\n        \n      </Card>\n    </>\n  )\n};","import './App.css';\nimport ChessGame from './components/ChessGame'\nimport React from \"react\"\nimport Signup from \"./components/Signup\"\nimport { Container } from \"react-bootstrap\"\nimport { AuthProvider } from \"./contexts/AuthContext\"\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\"\nimport DisBoard from \"./components/disBoard\"\nimport Login from \"./components/Login\"\nimport PrivateRoute from \"./components/PrivateRoute\"\nimport ForgotPassword from \"./components/ForgotPassword\"\nimport UpdateProfile from \"./components/UpdateProfile\"\nimport SignOut from \"./components/SignOut\"\nimport ChatRoom from \"./components/ChatRoom\"\n\nexport default function App() {\n  return (\n    <Container\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ minHeight: \"100vh\" }}>\n      <AuthProvider>\n        <header>\n          <h1>disBoard</h1>\n          <nav>\n\n            <SignOut />\n\n          </nav>\n        </header>\n\n        <div className=\"w-100\" style={{ maxWidth: \"600px\" }}>\n          <Router>\n\n              <Switch>\n                <PrivateRoute exact path=\"/\" component={DisBoard} />\n                <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\n                <PrivateRoute path=\"/chess-game\" component={ChessGame} />\n                <Route path=\"/signup\" component={Signup} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/forgot-password\" component={ForgotPassword} />\n              </Switch>\n\n          </Router>\n        </div>\n        <div classname=\"w-100\" style={{display: 'inline-block',\n          maxWidth: '300px'}}>\n          <ChatRoom />\n        </div>\n      </AuthProvider>\n    </Container>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}